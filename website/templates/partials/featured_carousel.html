<!-- Featured Events Carousel -->

<div class="container-fluid px-0 mb-4">
  <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">

    <!-- Carousel inner -->

    <div class="carousel-inner rounded-3 shadow-sm">
      {% for event in featured_events %}
      <div class="carousel-item {% if loop.first %}active{% endif %}">
        <div class="ratio ratio-21x9">
          <img src="{{ event.image or 'https://placehold.co/1200x600?text=Featured+Event' }}"
               class="d-block w-100 object-fit-cover"
               alt="{{ event.title }}">
        </div>

        <!-- Caption with overlay -->

        <div class="carousel-caption d-block position-absolute bottom-0 start-0 end-0 p-4"
             style="background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 60%, rgba(0,0,0,0.3) 100%);">

          <!-- Title -->

          <h3 class="fw-bold text-white mb-1">{{ event.title }}</h3>

          <!-- Date and Status -->

          <p class="text-light mb-2">
            <small>
              <i class="bi bi-calendar-event"></i>
              {{ event.date.strftime('%A, %d %B %Y') if event.date else '' }}
              &nbsp;|&nbsp;
              <span class="badge 
                {% if event.status == 'Cancelled' %}bg-danger
                {% elif event.status == 'Sold Out' %}bg-warning text-dark
                {% elif event.status == 'Active' %}bg-success
                {% else %}bg-secondary{% endif %}">
                {{ event.status or 'Status Unknown' }}
              </span>
            </small>
          </p>

          <!-- Description -->

          <p class="text-light mb-0">{{ event.description or 'No description available.' }}</p>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- Carousel controls -->
     
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>

  </div>
</div>

<!-- Responsive caption styling -->

<style>
  @media (max-width: 767.98px) {
    .carousel-caption {
      padding: 1rem !important;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.6) 60%, rgba(0, 0, 0, 0.2) 100%) !important;
    }

    .carousel-caption h3 {
      font-size: 1.1rem;
    }

    .carousel-caption p {
      font-size: 0.85rem;
    }
  }
</style>
